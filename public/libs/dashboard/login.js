$(function(){"use strict";var t=$("form"),e={placement:"bottom",trigger:"manual"},o=function(t){if(n.addClass("login-error"),$("#password").val(""),406===t.status&&Object.keys(t.responseJSON).length>0)for(var o in t.responseJSON)e.title=t.responseJSON[o][0],$("#"+o).tooltip(e).tooltip("show");422===t.status&&Object.keys(t.responseJSON).length>0&&(e.placement="top",e.title=t.responseJSON.msg,$(".title").tooltip(e).tooltip("show")),429===t.status&&(e.placement="top",e.title=t.responseText,$(".title").tooltip(e).tooltip("show"))},s=function(t){n.addClass("login-success"),location.href=t.redirect},i="/login",n=t.find("button:submit"),l={type:"POST",cache:!1,success:s,error:o};$("#login, #password, .title").on("shown.bs.tooltip",function(){var t=$(this);setTimeout(function(){n.removeClass("login-error"),n.blur(),t.tooltip("hide")},5e3)}),n.click(function(e){e.preventDefault(),l.data=t.serialize(),$.ajax(i,l)})});